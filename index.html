<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>世界的应援棒</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            padding: 15px;
            max-width: 500px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        h1 {
            color: #4455dd;
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .settings-panel {
            background-color: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .setting-group {
            margin-bottom: 15px;
        }
        
        .setting-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .color-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        
        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid #ddd;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .color-option:hover, .color-option.active {
            transform: scale(1.1);
            border-color: #333;
        }
        
        .custom-color {
            margin-top: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .custom-color input {
            width: 100px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        .lyrics-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: #4455dd;
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        .settings-icon {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #666;
        }
        
        .preview-area {
            height: 200px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            transition: background-color 0.3s;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .preview-text {
            color: white;
            font-size: 18px;
            font-weight: bold;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
        }
        
        .start-button {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #4455dd;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .start-button:hover {
            background-color: #3344cc;
        }
        
        /* 弹窗样式 */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        
        .modal-title {
            font-size: 18px;
            font-weight: bold;
        }
        
        .close-button {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }
        
        .lyrics-textarea {
            width: 100%;
            height: 300px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            resize: vertical;
            font-family: monospace;
            line-height: 1.5;
        }
        
        .modal-footer {
            margin-top: 15px;
            text-align: right;
        }
        
        .save-button {
            padding: 8px 15px;
            background-color: #4455dd;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        
        /* 全屏应援模式样式 */
        .cheer-mode {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 200;
            overflow: hidden;
        }
        
        .cheer-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transition: background-color 0.5s;
        }
        
        .lyrics-container {
            position: absolute;
            bottom: 20px;
            width: 100%;
            padding: 10px;
            overflow: hidden;
            white-space: nowrap;
        }
        
        .lyrics-scroll {
            display: inline-block;
            color: black;
            font-size: 20px;
            font-weight: bold;
            white-space: nowrap;
            animation: scroll-lyrics 30s linear infinite;
        }
        
        @keyframes scroll-lyrics {
            0% {
                transform: translateX(100%);
            }
            100% {
                transform: translateX(-100%);
            }
        }
        
        .exit-button {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: rgba(255,255,255,0.7);
            border: none;
            border-radius: 5px;
            padding: 8px 15px;
            font-size: 16px;
            cursor: pointer;
            z-index: 201;
        }
    </style>
</head>
<body>
    <header>
        <h1>世界的应援棒</h1>
        <p>为《世界计划：缤纷舞台大电影》准备的应援工具</p>
    </header>
    
    <div class="settings-panel">
        <div class="setting-group">
            <label>选择颜色</label>
            <div class="color-options">
                <div class="color-option active" data-color="#ee1166" title="Vivid Bad Squad!"></div>
                <div class="color-option" data-color="#ff9900" title="Wonderland X Showtime"></div>
                <div class="color-option" data-color="#88dd44" title="MORE MORE JUMP!"></div>
                <div class="color-option" data-color="#4455dd" title="Leo/need"></div>
                <div class="color-option" data-color="#884499" title="25时，Nightcord见"></div>
                <div class="color-option" data-color="#39c5bb" title="VIRTUAL SINGER"></div>
            </div>
            <div class="custom-color">
                <label>自定义颜色:</label>
                <input type="text" id="custom-color" placeholder="#000000" maxlength="7">
            </div>
        </div>
        
        <div class="setting-group">
            <div class="lyrics-toggle">
                <label>显示歌词</label>
                <label class="switch">
                    <input type="checkbox" id="lyrics-toggle" checked>
                    <span class="slider"></span>
                </label>
                <button class="settings-icon" id="lyrics-settings-btn">⚙️</button>
            </div>
        </div>
    </div>
    
    <div class="preview-area" id="preview-area">
        <div class="preview-text">颜色预览</div>
    </div>
    
    <button class="start-button" id="start-button">开始应援</button>
    
    <!-- 歌词设置弹窗 -->
    <div class="modal" id="lyrics-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">歌词设置</div>
                <button class="close-button" id="close-lyrics-modal">&times;</button>
            </div>
            <p>这是显示的歌词的设置，用于应援时的合唱项目，可以自定义，默认为 "Hello SEKAI！"的歌词。</p>
            <textarea class="lyrics-textarea" id="lyrics-text">
きっと届くはず　きっと見えるはず
　Kitto todoku hazu kitto mieru hazu
そんな会ってみたい未来を　僕はひとりきりのセカイで
　Sonna atte mitai mirai o boku wa hitorikiri no sekai de
ずっとそう歌うたっていた
　Zutto sō uta utatte ita

　　一定能傳達到的吧　一定能看見的吧
　　我在這獨自一人的「世界」　一直以來都如此歌唱著
　　獨自歌頌著那想令人嘗試看看的未來


今聞こえたよ　ほら少しだけ
　Ima kikoeta yo hora sukoshi dake
君を感じたよ　メロディーがリンクする
　Kimi o kanjita yo merodī ga rinku suru
今繋がるよ　今重なるよ
　Ima tsunagaru yo ima kasanaru yo
伝えたかったこと　山ほどあるんだけどどうしよう
　Tsutaetakatta koto yama hodo aru n da kedo dō shiyō

　　剛才我聽見了唷　聽啊雖如此微弱
　　我能感受到你唷　旋律將彼此連結了起來
　　現在連繫起來吧　現在重合起來吧
　　雖然我想傳達給你的事　還遠遠訴說不完啊　該如何是好


見たこともない顔で　君は君をダメと言うけど
　Mita koto mo nai kao de kimi wa kimi o dame to iu kedo
未来にいる理想の君を　今の君に押し付け過ぎないで
　Mirai ni iru risō no kimi o ima no kimi ni oshitsuke suginai de
見たこともない景色　見せ合ういつかが来るまで
　Mita koto mo nai keshiki miseau itsuka ga kuru made
つらいこと　泣きたくなること　たまには預け合おう
　Tsurai koto nakitaku naru koto tama ni wa azukeaō

　　你用我從未見過的表情　說著自己辦不到
　　但別把未來理想的自己　過於強加在現在的你身上啊
　　直到我們能將從未見過的景色　與彼此分享的時刻到來之前
　　偶爾就將難過的事　或令人想哭的事　與彼此一同分享承擔吧


ハロー、セカイ　僕の声はちゃんと届いてるかい
　Harō, sekai boku no koe wa chanto todoiteru kai
思ったよりも大丈夫　君はひとりなんかじゃない
　Omotta yori mo daijōbu kimi wa hitori nanka janai
ハロー、セカイ　君の声もちゃんと届いてるよ
　Harō, sekai kimi no koe mo chanto todoiteru yo
思ったよりも最高だ　僕もひとりなんかじゃない
　Omotta yori mo saikō da boku mo hitori nanka janai

　　Hello，「世界」　我的聲音有好好傳達給你嗎
　　其實比想像中的還要沒問題　你才不是隻身一人呀
　　Hello，「世界」　你的聲音也有好好傳達給我唷
　　原來比想像中的還令人雀躍　我也不是隻身一人呀


行くよジャンプ　跳ねるダンス
　Iku yo janpu haneru dansu
いらない不安なんて踏んじゃってこう
　Iranai fuan nante funjatte kō
ああでもこうでもないも　そんなのどうでもいいよ
　Ā demo kō demo nai mo sonna no dō demo ii yo
やりたいようにやろう　ハローハロー
　Yaritai yō ni yarō harō harō

　　要上囉Jump　輕盈地跳起舞吧
　　把不必要的不安全都踩扁前進吧
　　把不知如何才正確的心情　全部都拋到腦後
　　儘管放手去做吧　Hello Hello


もう一回ジャンプ　回るダンス
　Mō ikkai janpu mawaru dansu
行きたい未来　きっともうすぐだよ
　Ikitai mirai kitto mō sugu da yo
ああでもこうでもないも　そんなのどうでもいいよ
　Ā demo kō demo nai mo sonna no dō demo ii yo
やりたいようにやろう
　Yaritai yō ni yarō

　　再一次Jump　踏起旋轉的舞步
　　你想追求的未來　一定就在不遠了
　　把不知如何才正確的心情　全部都拋到腦後
　　儘管放手去做吧


飛び込んでいこう　僕らのセカイが
　Tobikonde ikō bokura no sekai ga
正解か不正解かわからなくても
　Seikai ka fuseikai ka wakaranakute mo
僕にある想いも　君にある願いも
　Boku ni aru omoi mo kimi ni aru negai mo
きっと消えないんだよ　ずっとセカイは終わらないよ
　Kitto kienai n da yo zutto sekai wa owaranai yo

　　就縱身躍入吧　這就是我們的「世界」
　　即使不知道這裡究竟是不是正確答案
　　不管是我胸口的心聲　還是你心中的願望
　　一定都不會消失的　「世界」會一直在你心中呦


今繋がるよ　今重なるよ
　Ima tsunagaru yo ima kasanaru yo
ほら聞こえるよ　ほら伝わるよ僕ら
　Hora kikoeru yo hora tsutawaru yo bokura

　　現在連繫起來吧　現在重合起來吧
　　你看、聽見了對吧　你看、傳達到了吧　我們的歌聲
            </textarea>
            <div class="modal-footer">
                <button class="save-button" id="save-lyrics">保存</button>
            </div>
        </div>
    </div>
    
    <!-- 全屏应援模式 -->
    <div class="cheer-mode" id="cheer-mode">
        <div class="cheer-background" id="cheer-background"></div>
        <div class="lyrics-container" id="lyrics-container">
            <div class="lyrics-scroll" id="lyrics-scroll"></div>
        </div>
        <button class="exit-button" id="exit-cheer">退出</button>
    </div>
    
    <script>
        // 获取DOM元素
        const colorOptions = document.querySelectorAll('.color-option');
        const customColorInput = document.getElementById('custom-color');
        const previewArea = document.getElementById('preview-area');
        const lyricsToggle = document.getElementById('lyrics-toggle');
        const lyricsSettingsBtn = document.getElementById('lyrics-settings-btn');
        const lyricsModal = document.getElementById('lyrics-modal');
        const closeLyricsModal = document.getElementById('close-lyrics-modal');
        const saveLyricsBtn = document.getElementById('save-lyrics');
        const lyricsTextarea = document.getElementById('lyrics-text');
        const startButton = document.getElementById('start-button');
        const cheerMode = document.getElementById('cheer-mode');
        const cheerBackground = document.getElementById('cheer-background');
        const lyricsContainer = document.getElementById('lyrics-container');
        const lyricsScroll = document.getElementById('lyrics-scroll');
        const exitCheer = document.getElementById('exit-cheer');
        
        // 当前选中的颜色
        let currentColor = '#ee1166';
        
        // 初始化
        function init() {
            // 设置默认颜色预览
            updatePreview(currentColor);
            
            // 颜色选项点击事件
            colorOptions.forEach(option => {
                option.addEventListener('click', () => {
                    // 移除所有active类
                    colorOptions.forEach(opt => opt.classList.remove('active'));
                    // 添加active类到当前选项
                    option.classList.add('active');
                    // 更新当前颜色
                    currentColor = option.getAttribute('data-color');
                    // 更新预览
                    updatePreview(currentColor);
                });
            });
            
            // 自定义颜色输入事件
            customColorInput.addEventListener('input', () => {
                const color = customColorInput.value;
                if (isValidHexColor(color)) {
                    currentColor = color;
                    updatePreview(currentColor);
                    // 移除所有预设颜色的active类
                    colorOptions.forEach(opt => opt.classList.remove('active'));
                }
            });
            
            // 歌词设置按钮点击事件
            lyricsSettingsBtn.addEventListener('click', () => {
                lyricsModal.style.display = 'flex';
            });
            
            // 关闭歌词设置弹窗
            closeLyricsModal.addEventListener('click', () => {
                lyricsModal.style.display = 'none';
            });
            
            // 保存歌词设置
            saveLyricsBtn.addEventListener('click', () => {
                lyricsModal.style.display = 'none';
            });
            
            // 点击弹窗外部关闭
            window.addEventListener('click', (e) => {
                if (e.target === lyricsModal) {
                    lyricsModal.style.display = 'none';
                }
            });
            
            // 开始应援按钮点击事件
            startButton.addEventListener('click', () => {
                startCheerMode();
            });
            
            // 退出应援模式
            exitCheer.addEventListener('click', () => {
                exitCheerMode();
            });
        }
        
        // 更新颜色预览
        function updatePreview(color) {
            previewArea.style.backgroundColor = color;
            
            // 根据颜色亮度调整文字颜色
            const brightness = getColorBrightness(color);
            previewArea.querySelector('.preview-text').style.color = brightness > 128 ? 'black' : 'white';
        }
        
        // 计算颜色亮度
        function getColorBrightness(hexColor) {
            // 移除#号
            const color = hexColor.replace('#', '');
            
            // 解析RGB值
            const r = parseInt(color.substr(0, 2), 16);
            const g = parseInt(color.substr(2, 2), 16);
            const b = parseInt(color.substr(4, 2), 16);
            
            // 计算亮度 (使用加权平均值)
            return (r * 299 + g * 587 + b * 114) / 1000;
        }
        
        // 验证十六进制颜色值
        function isValidHexColor(color) {
            return /^#([0-9A-F]{3}){1,2}$/i.test(color);
        }
        
        // 开始应援模式
        function startCheerMode() {
            // 设置背景颜色
            cheerBackground.style.backgroundColor = currentColor;
            
            // 设置歌词
            if (lyricsToggle.checked) {
                lyricsContainer.style.display = 'block';
                lyricsScroll.textContent = lyricsTextarea.value.replace(/\n/g, ' ');
            } else {
                lyricsContainer.style.display = 'none';
            }
            
            // 显示应援模式
            cheerMode.style.display = 'block';
            
            // 进入全屏
            if (cheerMode.requestFullscreen) {
                cheerMode.requestFullscreen();
            } else if (cheerMode.webkitRequestFullscreen) {
                cheerMode.webkitRequestFullscreen();
            } else if (cheerMode.msRequestFullscreen) {
                cheerMode.msRequestFullscreen();
            }
        }
        
        // 退出应援模式
        function exitCheerMode() {
            // 退出全屏
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.webkitExitFullscreen) {
                document.webkitExitFullscreen();
            } else if (document.msExitFullscreen) {
                document.msExitFullscreen();
            }
            
            // 隐藏应援模式
            cheerMode.style.display = 'none';
        }
        
        // 初始化
        init();
    </script>
</body>
</html>
